
<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="description" content="Aider les collectivités territoriales à orienter leurs politiques publiques à travers un répertoire complet de bonnes pratiques en France et en UE.">
    <title>Plateforme Bonnes Pratiques</title>
    <link rel="stylesheet" href="/assets/css/styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/selectize.js/0.12.6/css/selectize.bootstrap3.min.css" integrity="sha256-ze/OEYGcFbPRmvCnrSeKbRTtjG4vGLHXgOqsyLFTRjg=" crossorigin="anonymous" />
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="google-site-verification" content="MrbDz_9XAfkWTMT17jbKKq4o-dcR1gHhu6WXCPzzL8E" />
    <meta name="ostrio-domain" content="5u5Cz6ltGquUOaWTyIct9pS0-gGfTHfucb4s4e9p2KE">
    <meta name="fragment" content="!">
    <link rel="icon" href="https://bonnes-pratiques.ithea-conseil.fr/favicon.ico" sizes="32x32">
    <link rel="icon" href="https://i0.wp.com/www.ithea-conseil.fr/wp-content/uploads/2020/07/cropped-boussole-ithea-couleur-BD-1.png?fit=32%2C32&amp;ssl=1" sizes="32x32">
    <link rel="icon" href="https://i0.wp.com/www.ithea-conseil.fr/wp-content/uploads/2020/07/cropped-boussole-ithea-couleur-BD-1.png?fit=192%2C192&amp;ssl=1" sizes="192x192">
    <link rel="apple-touch-icon" href="https://i0.wp.com/www.ithea-conseil.fr/wp-content/uploads/2020/07/cropped-boussole-ithea-couleur-BD-1.png?fit=180%2C180&amp;ssl=1">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.3.0/papaparse.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/selectize.js/0.12.6/js/standalone/selectize.min.js" integrity="sha256-+C0A5Ilqmu4QcSPxrlGpaZxJ04VjsRjKu+G82kl5UJk=" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-0LQ7GD27TM"></script>
    <script src="https://kit.fontawesome.com/7f38d075bc.js" crossorigin="anonymous"></script>
    <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-0LQ7GD27TM');
    </script>
</head>
<body>
    <div class="container">
        <nav class="sidebar">
            <a href="?page=accueil"> <img src="www/logo.webp" alt ="logo"></a>
            <a href="?page=accueil"> <img src="www/logo_crop.webp" alt ="logo"></a>
            <ul class="nav-menu">
                <li class="nav-item"><a href="?page=accueil" class="nav-link"><i class="fas fa-solid fa-house"></i><span class="nav-text">Accueil</span></a></li>
                <li class="nav-item"><a href="?page=thematiques" class="nav-link"><i class="fas fa-solid fa-book"></i><span class="nav-text">Thématiques</span></a></li>
                <li class="nav-item"><a href="?page=decouvrir" class="nav-link"><i class="fas fa-solid fa-compass"></i><span class="nav-text">Tout découvrir</span></a></li>
            </ul>
        </nav>
        <main class="main-content">
            <div id="accueil" class="main-section">
                <h1 class="titreBP">BIBLIOTHÈQUE DE BONNES PRATIQUES</h1>
                <div class="green_div_column">
                    <div class="accueil_text">
                    <div id="accueil_prem"><img src="https://raw.githubusercontent.com/jamesmica/PBP/main/www/webpp/Image1.svg" alt="icon-BP" loading="lazy"><h2>La première banque d'initiatives <span id="accueil_innov">innovantes</span> portées par les collectivités de France et à l'étranger</h2></div>
                    <h2 id="CCBP">+ de 700 Bonnes Pratiques</h2>
                <label for="insee-select">Saisir mon territoire</label>
                <select id="insee-select" name="insee">
                  <option value="" disabled selected> Choisir son territoire</option>
                    <!-- Les options seront ajoutées dynamiquement ici -->
                </select>
                <p id="select_reason" class="BP_caption">Pour une sélection de bonnes pratiques adaptées à mon contexte local </p>
                <a id ="sans_collectivite" class="BP_caption" href="" onclick="return false;" >Ou continuer sans collectivité</a>
                <script>
                    $('#insee-select').selectize({
        valueField: 'INSEE', // Utilisé pour la valeur interne
        labelField: 'NOM_COUV', // Utilisé pour la recherche
        searchField: ['NOM_COUV', 'INSEE'], // Permet de rechercher à la fois par NOM_COUV et INSEE
        maxOptions: 100,
        sortField: [
            {
                field: 'INSEE',
                direction: 'asc'
            },
            {
                field: '$score'
            }
        ],
        render: {
            option: function(item, escape) {
                // Personnalisation de l'affichage des options dans le menu déroulant
                return '<div>' + escape(item.NOM_COUV) + ' - (' + escape(item.INSEE) + ')</div>';
            },
            item: function(item, escape) {
                // Personnalisation de l'affichage de l'option sélectionnée
                return '<div>' + escape(item.NOM_COUV) + ' - (' + escape(item.INSEE) + ')</div>';
            }
        },
        load: function(query, callback) {
            $.ajax({
                url: 'pertinence.json', // Votre fichier JSON
                type: 'GET',
                dataType: 'json',
                error: function() {
                    callback();
                }
            });
        }
    });
                </script>
                </div>
                
                </div>
            </div>
            <div id="thematiques" class="main-section">
                <!-- Contenu pour Thématiques -->
                <h1 class="titreBP">BIBLIOTHÈQUE DE BONNES PRATIQUES</h1>
                <div class="green_div_column">
                    <h2>Thématiques</h2>
                    <div class="themes">
                      <div class="ombre carre-thematique">
                        <a class="action-button shiny-bound-input" href="#" id="TH1" >
                          <img src="www/webpp/Attractivité.webp" height="80%" alt="Démographie_logo" loading="lazy">
                          Attractivité du territoire
                        </a>
                      </div>
                      <div class="ombre carre-thematique">
                        <a class="action-button shiny-bound-input" href="#" id="TH2" >
                          <img src="www/webpp/Jeunesse.webp" height="80%" alt="Démographie_logo" loading="lazy">
                          Jeunesse
                        </a>
                      </div>
                      <div class="ombre carre-thematique">
                        <a class="action-button shiny-bound-input" href="#" id="TH3" >
                          <img src="www/webpp/Enfance &amp; éducation.webp" height="80%" alt="petite_enfance_logo" loading="lazy">
                          Enfance &amp; éducation
                        </a>
                      </div>
                      <div class="ombre carre-thematique">
                        <a class="action-button shiny-bound-input" href="#" id="TH4" >
                          <img src="www/webpp/Mobilités.webp" height="80%" alt="enfance_jeunesse_logo" loading="lazy">
                          Mobilités
                        </a>
                      </div>
                      <div class="ombre carre-thematique">
                        <a class="action-button shiny-bound-input" href="#" id="TH5" >
                          <img src="www/webpp/Solidarités &amp; action sociale.webp" height="80%" alt="familles_logo" loading="lazy">
                          Solidarités &amp; action sociale
                        </a>
                      </div>
                      <div class="ombre carre-thematique">
                        <a class="action-button shiny-bound-input" href="#" id="TH6" >
                          <img src="www/webpp/Sport, culture, loisirs.webp" height="80%" alt="séniors_logo" loading="lazy">
                          Sport, culture, loisirs
                        </a>
                      </div>
                      <div class="ombre carre-thematique">
                        <a class="action-button shiny-bound-input" href="#" id="TH7" >
                          <img src="www/webpp/Logement &amp; habitat.webp" height="80%" alt="logement_logo" loading="lazy">
                          Logement &amp; habitat
                        </a>
                      </div>
                      <div class="ombre carre-thematique">
                        <a class="action-button shiny-bound-input" href="#" id="TH8" >
                          <img src="www/webpp/Vie de la collectivité.webp" height="80%" alt="habitat_logo" loading="lazy">
                          Vie de la collectivité
                        </a>
                      </div>
                      <div class="ombre carre-thematique">
                        <a class="action-button shiny-bound-input" href="#" id="TH9" >
                          <img src="www/webpp/Egalité F-H.webp" height="80%" alt="emploi_logo" loading="lazy">
                          Égalité femmes-hommes
                        </a>
                      </div>
                      <div class="ombre carre-thematique">
                        <a class="action-button shiny-bound-input" href="#" id="TH10" >
                          <img src="www/webpp/Santé &amp; handicap.webp" height="80%" alt="revenus_précarité_logo" loading="lazy">
                          Santé &amp; handicap
                        </a>
                      </div>
                      <div class="ombre carre-thematique">
                        <a class="action-button shiny-bound-input" href="#" id="TH11" >
                          <img src="www/webpp/Emploi &amp; entreprises.webp" height="80%" alt="égalité_femmes_hommes_logo" loading="lazy">
                          Emploi &amp; entreprises
                        </a>
                      </div>
                      <div class="ombre carre-thematique">
                        <a class="action-button shiny-bound-input" href="#" id="TH12" >
                          <img src="www/webpp/Vie locale.webp" height="80%" alt="santé_handicap_logo" loading="lazy">
                          Vie locale
                        </a>
                      </div>
                      <div class="ombre carre-thematique">
                        <a class="action-button shiny-bound-input" href="#" id="TH13" >
                          <img src="www/webpp/Participation citoyenne.webp" height="80%" alt="Démographie_logo" loading="lazy">
                          Participation citoyenne
                        </a>
                      </div>
                      <div class="ombre carre-thematique">
                        <a class="action-button shiny-bound-input" href="#" id="TH14" >
                          <img src="www/webpp/Environnement &amp; urbanisme.webp" height="80%" alt="entreprises_logo" loading="lazy">
                          Environnement &amp; urbanisme
                        </a>
                      </div>
                      <div class="ombre carre-thematique">
                        <a class="action-button shiny-bound-input" href="#" id="TH15" >
                          <img src="www/webpp/Finances publiques.webp" height="80%" alt="vie_locale_logo" loading="lazy">
                          Finances publiques
                        </a>
                      </div>
                    </div>
                  </div>



            </div>
            <div id="decouvrir" class="main-section">
                <!-- Contenu pour Tout découvrir -->
                <h1 class="titreBP">BIBLIOTHÈQUE DE BONNES PRATIQUES</h1>
                <div id="addBP"><i class="fas fa-circle-plus"></i></div>
              <script>
                
                function submitForm() {
                  var formData = {
                    nom: document.getElementById("nom").value,
                    fonction: document.getElementById("fonction").value,
                    email: document.getElementById("email").value,
                    collectivite: document.getElementById("insee").value,
                    miseEnPlace: document.getElementById("miseEnPlace").value,
                    thematique: document.getElementById("thematique").value,
                    description: document.getElementById("description").value,
                    besoins: document.getElementById("besoins").value,
                    replicabilite: document.getElementById("replicabilite").value,
                    ressources: document.getElementById("ressources").value,
                    contactNom: document.getElementById("contactNom").value,
                    contactEmail: document.getElementById("contactEmail").value,
                    impact: document.getElementById("impact").value,
                    infosSupplementaires: document.getElementById("infosSupplementaires").value
                  };

                  var formDataAsString = JSON.stringify(formData);
                  const container = document.getElementById('bpForm')
                      container.classList.toggle('addbpvisible');

                  fetch('https://script.google.com/macros/s/AKfycbzAN3HIU4Ivaai6t6Us3FrEw4jtAZ2S2qv9d70e6jtBNpm_Xm8yVCTfQrCmwdjd0s-HBg/exec', {
                    method: 'POST',
                    headers: {
                      'Content-Type': 'text/plain' // Définir le type de contenu en texte brut
                    },
                    body: formDataAsString // Envoi des données sous forme de texte brut
                  })
                  .then(response => response.text()) // Traitement de la réponse en tant que texte
                  .then(data => {
                    console.log(data);
                    alert("Nous avons bien reçu votre Bonne Pratique. Elle sera intégrée à la plateforme dans les prochaines semaines.");
                  })
                  .catch(error => console.error('Error:', error));
                  
                  return false; // Pour empêcher le rechargement de la page.
                }


              </script>
                <div id="filters">
                        <select id="produit-select" name="produit" multiple>
                            <option value="">Choisir une thématique</option>
                            <optgroup label="Attractivité du territoire">
                                <option value="Développement économique">Développement économique</option>
                                <option value="Tourisme">Tourisme</option>
                                <option value="Communication">Communication</option>
                                <option value="Rénovation du bâti">Rénovation du bâti</option>
                            </optgroup>
                            <optgroup label="Jeunesse">
                                <option value="Activités jeunesse">Activités jeunesse</option>
                                <option value="Vie étudiante">Vie étudiante</option>
                                <option value="Orientation, information, aide aux projets">Orientation, information, aide aux projets</option>
                            </optgroup>
                            <optgroup label="Enfance & Education">
                                <option value="Petite Enfance">Petite Enfance</option>
                                <option value="Accueils de loisirs">Accueils de loisirs</option>
                                <option value="Familles et parentalité">Familles et parentalité</option>
                                <option value="Scolarité">Scolarité</option>
                                <option value="Restauration scolaire">Restauration scolaire</option>
                            </optgroup>
                            <optgroup label="Mobilités">
                                <option value="Voiries et circulation routière">Voiries et circulation routière</option>
                                <option value="Covoiturage">Covoiturage</option>
                                <option value="Transports en commun">Transports en commun</option>
                                <option value="Mobilités douces">Mobilités douces</option>
                            </optgroup>
                            <optgroup label="Solidarités et action sociale">
                                <option value="CCAS">CCAS</option>
                                <option value="Actions intergénérationnelles">Actions intergénérationnelles</option>
                                <option value="Accès aux droits">Accès aux droits</option>
                                <option value="Aidants">Aidants</option>
                                <option value="Séniors">Séniors</option>
                                <option value="Numérique">Numérique</option>
                                <option value="Aide à domicile">Aide à domicile</option>
                                <option value="Itinérance">Itinérance</option>
                            </optgroup>
                            <optgroup label="Sport, culture, loisirs">
                                <option value="Infrastructures sportives">Infrastructures sportives</option>
                                <option value="Accès au sport">Accès au sport</option>
                                <option value="Accès à la culture">Accès à la culture</option>
                                <option value="Patrimoine">Patrimoine</option>
                                <option value="Musées et lieux d'expositions">Musées et lieux d’expositions</option>
                                <option value="Lecture publique">Lecture publique</option>
                            </optgroup>                            
                            <optgroup label="Logement et Habitat">
                                <option value="Logement social">Logement social</option>
                                <option value="Hébergement solidaire">Hébergement solidaire</option>
                                <option value="Hébergement d'urgence">Hébergement d’urgence</option>
                                <option value="Rénovation de l'habitat">Rénovation de l’habitat</option>
                                <option value="Construction">Construction</option>
                            </optgroup>
                            <optgroup label="Vie de la collectivité">
                                <option value="Action municipale">Action municipale</option>
                                <option value="Partenariats entre institutions, collectivités, acteurs du territoire">Partenariats entre institutions, collectivités, acteurs du territoire</option>
                                <option value="Administration">Administration</option>
                                <option value="Ressources Humaines">Ressources Humaines</option>
                                <option value="Etat Civil">Etat Civil</option>
                                <option value="Cimetières">Cimetières</option>
                            </optgroup>
                            <optgroup label="Egalité Femmes-Hommes">
                                <option value="Aménagement urbain">Aménagement urbain</option>
                                <option value="Engagement des collectivités">Engagement des collectivités</option>
                                <option value="Egalité professionnelle">Egalité professionnelle</option>
                            </optgroup>
                            <optgroup label="Santé et handicap">
                                <option value="Structures de santé">Structures de santé</option>
                                <option value="Accès aux soins">Accès aux soins</option>
                                <option value="Inclusion et accessibilité">Inclusion et accessibilité</option>
                                <option value="Santé mentale">Santé mentale</option>
                                <option value="Handicap">Handicap</option>
                            </optgroup>
                            <optgroup label="Emploi et entreprises">
                                <option value="Insertion socio-professionnelle">Insertion socio professionnelle</option>
                                <option value="Formation">Formation</option>
                                <option value="Commerces et services de proximité">Commerces et services de proximité</option>
                                <option value="Entrepreneuriat">Entrepreneuriat</option>
                            </optgroup>
                            <optgroup label="Vie locale">
                                <option value="Vie associative">Vie associative</option>
                                <option value="Cohésion entre habitants">Cohésion entre habitants</option>
                                <option value="Tiers-lieux">Tiers-lieux</option>
                                <option value="Bénévolat & volontariat">Bénévolat & volontariat</option>
                                <option value="Tranquillité publique et propreté">Tranquillité publique et propreté</option>
                            </optgroup>
                            <optgroup label="Participation citoyenne">
                                <option value="Budget participatifs">Budget participatifs</option>
                                <option value="Instances participatives">Instances participatives</option>
                                <option value="Procédés de consultations, concertations, co-constructions">Procédés de consultations, concertations, co-constructions</option>
                            </optgroup>
                            <optgroup label="Environnement & Urbanisme">
                                <option value="Parcs et Jardins">Parcs et Jardins</option>
                                <option value="Paysages">Paysages</option>
                                <option value="Eau et ressources hydrauliques">Eau et ressources hydrauliques</option>
                                <option value="Développement durable">Développement durable</option>
                                <option value="Energie">Energie</option>
                                <option value="Gestion des déchets">Gestion des déchets</option>
                                <option value="Alimentation et agriculture">Alimentation et Agriculture</option>
                            </optgroup>
                            <optgroup label="Finances publiques">
                                <option value="Subventionnement">Subventionnement</option>
                                <option value="Budget">Budget</option>
                            </optgroup>
                            
                        
                        </select>

                <select id="strate-select">
                    <option value="">Choisir une strate</option>
                    <option value="Moins de 500 habitants">Moins de 500 habitants</option>
                    <option value="Entre 1 000 et 2 500 habitants">Entre 1 000 et 2 500 habitans</option>
                    <option value="Entre 2 500 et 10 000 habitants">Entre 2 500 et 10 000 habitants</option>
                    <option value="Entre 10 000 et 50 000 habitants">Entre 10 000 et 50 000 habitants</option>
                    <option value="Entre 50 000 et 80 000 habitants">Entre 50 000 et 80 000 habitants</option>
                    <option value="Entre 80 000 et 100 000 habitants">Entre 80 000 et 100 000 habitants</option>
                    <option value="Plus de 100 000 habitants">Plus de 100 000 habitants</option>
                    <!-- Les options seront ajoutées dynamiquement par le script.js -->
                  </select>
                  <select id="dep-nom-select">
                    <option value="">Choisir un département</option>
                    <option value='Ain'>Ain</option>
                    <option value='Aisne'>Aisne</option>
                    <option value='Allier'>Allier</option>
                    <option value='Alpes de Haute-Provence'>Alpes de Haute-Provence</option>
                    <option value='Hautes-Alpes'>Hautes-Alpes</option>
                    <option value='Alpes-Maritimes'>Alpes-Maritimes</option>
                    <option value='Ardèche'>Ardèche</option>
                    <option value='Ardennes'>Ardennes</option>
                    <option value='Ariège'>Ariège</option>
                    <option value='Aube'>Aube</option>
                    <option value='Aude'>Aude</option>
                    <option value='Aveyron'>Aveyron</option>
                    <option value='Bouches du Rhône'>Bouches du Rhône</option>
                    <option value='Calvados'>Calvados</option>
                    <option value='Cantal'>Cantal</option>
                    <option value='Charente'>Charente</option>
                    <option value='Charente Maritime'>Charente Maritime</option>
                    <option value='Cher'>Cher</option>
                    <option value='Corrèze'>Corrèze</option>
                    <option value='Corse du Sud'>Corse du Sud</option>
                    <option value='Haute-Corse'>Haute-Corse</option>
                    <option value="Côte d'Or">Côte d'Or</option>
                    <option value="Côtes d'Armor">Côtes d'Armor</option>
                    <option value='Creuse'>Creuse</option>
                    <option value='Dordogne'>Dordogne</option>
                    <option value='Doubs'>Doubs</option>
                    <option value='Drôme'>Drôme</option>
                    <option value='Eure'>Eure</option>
                    <option value='Eure-et-Loir'>Eure-et-Loir</option>
                    <option value='Finistère'>Finistère</option>
                    <option value='Gard'>Gard</option>
                    <option value='Haute-Garonne'>Haute-Garonne</option>
                    <option value='Gers'>Gers</option>
                    <option value='Gironde'>Gironde</option>
                    <option value='Hérault'>Hérault</option>
                    <option value='Ille-et-Vilaine'>Ille-et-Vilaine</option>
                    <option value='Indre'>Indre</option>
                    <option value='Indre-et-Loire'>Indre-et-Loire</option>
                    <option value='Isère'>Isère</option>
                    <option value='Jura'>Jura</option>
                    <option value='Landes'>Landes</option>
                    <option value='Loir-et-Cher'>Loir-et-Cher</option>
                    <option value='Loire'>Loire</option>
                    <option value='Haute-Loire'>Haute-Loire</option>
                    <option value='Loire-Atlantique'>Loire-Atlantique</option>
                    <option value='Loiret'>Loiret</option>
                    <option value='Lot'>Lot</option>
                    <option value='Lot-et-Garonne'>Lot-et-Garonne</option>
                    <option value='Lozère'>Lozère</option>
                    <option value='Maine-et-Loire'>Maine-et-Loire</option>
                    <option value='Manche'>Manche</option>
                    <option value='Marne'>Marne</option>
                    <option value='Haute-Marne'>Haute-Marne</option>
                    <option value='Mayenne'>Mayenne</option>
                    <option value='Meurthe-et-Moselle'>Meurthe-et-Moselle</option>
                    <option value='Meuse'>Meuse</option>
                    <option value='Morbihan'>Morbihan</option>
                    <option value='Moselle'>Moselle</option>
                    <option value='Nièvre'>Nièvre</option>
                    <option value='Nord'>Nord</option>
                    <option value='Oise'>Oise</option>
                    <option value='Orne'>Orne</option>
                    <option value='Pas-de-Calais'>Pas-de-Calais</option>
                    <option value='Puy-de-Dôme'>Puy-de-Dôme</option>
                    <option value='Pyrénées-Atlantiques'>Pyrénées-Atlantiques</option>
                    <option value='Hautes-Pyrénées'>Hautes-Pyrénées</option>
                    <option value='Pyrénées-Orientales'>Pyrénées-Orientales</option>
                    <option value='Bas-Rhin'>Bas-Rhin</option>
                    <option value='Haut-Rhin'>Haut-Rhin</option>
                    <option value='Rhône'>Rhône</option>
                    <option value='Haute-Saône'>Haute-Saône</option>
                    <option value='Saône-et-Loire'>Saône-et-Loire</option>
                    <option value='Sarthe'>Sarthe</option>
                    <option value='Savoie'>Savoie</option>
                    <option value='Haute-Savoie'>Haute-Savoie</option>
                    <option value='Paris'>Paris</option>
                    <option value='Seine-Maritime'>Seine-Maritime</option>
                    <option value='Seine-et-Marne'>Seine-et-Marne</option>
                    <option value='Yvelines'>Yvelines</option>
                    <option value='Deux-Sèvres'>Deux-Sèvres</option>
                    <option value='Somme'>Somme</option>
                    <option value='Tarn'>Tarn</option>
                    <option value='Tarn-et-Garonne'>Tarn-et-Garonne</option>
                    <option value='Var'>Var</option>
                    <option value='Vaucluse'>Vaucluse</option>
                    <option value='Vendée'>Vendée</option>
                    <option value='Vienne'>Vienne</option>
                    <option value='Haute-Vienne'>Haute-Vienne</option>
                    <option value='Vosges'>Vosges</option>
                    <option value='Yonne'>Yonne</option>
                    <option value='Territoire-de-Belfort'>Territoire-de-Belfort</option>
                    <option value='Essonne'>Essonne</option>
                    <option value='Hauts-de-Seine'>Hauts-de-Seine</option>
                    <option value='Seine-St-Denis'>Seine-St-Denis</option>
                    <option value='Val-de-Marne'>Val-de-Marne</option>
                    <option value="Val-d'Oise">Val-d'Oise</option>
                    <option value='Guadeloupe'>Guadeloupe</option>
                    <option value='Martinique'>Martinique</option>
                    <option value='Guyane'>Guyane</option>
                    <option value='La Réunion'>La Réunion</option>
                    <option value='Mayotte'>Mayotte</option>
                    <option value='Espagne'>Espagne</option>
                    <option value='Belgique'>Belgique</option>
                    <option value='Grèce'>Grèce</option>
                    <option value='Irlande'>Irlande</option>
                    <option value='Italie'>Italie</option>
                    <option value='Royaume-Uni'>Royaume-Uni</option>
                    <option value='Slovénie'>Slovénie</option>
                    </select> 
                    <!-- Les options seront ajoutées dynamiquement par le script.js -->
                  <div id="search-container">
                    <input type="text" id="search-input" placeholder="Filtrer par territoire, mots-clés...">
                    <img id="search-icon" src="/www/glass.png" alt="search-icon"/>
                  </div>
                  <div id="sort-container">
                    <select id="sort-select" class="uniform-select" required>
                      <option value="" disabled selected hidden>Trier par objectif</option>
                      <option value="Valorisable">Valorisable</option>
                      <option value="Original">Original</option>
                      <option value="Innovant">Innovant</option>
                      <option value="Économique">Économique</option>
                      <option value="Essaimable">Essaimable</option>
                    </select>
                    <img id="sort-icon" src="/www/sort.png" alt="sort-icon"/>
                  </div>
                  <button id="reset-button" onclick="resetFilters()" href="#">Réinitialiser</button>
                  
                </div>
                <div id="vignettes-container">
                    <!-- Les vignettes s'afficheront ici -->
                    <button id="load-more-btn">Suivant</button>
                </div>
                <div id="details-container">
                    <!-- Les détails de la vignette seront chargés ici -->
                    Chargement des détails...
                </div>
            </div>
        </main>
    </div>
    <form id="bpForm" class="" onsubmit="return submitForm();">
      <div class="progress-container">
        <label for="formProgress" class="progress-percentage">20%</label>
        <progress id="formProgress" value="1" max="5"></progress>
      </div>
      <div class="form-header">
          <div class="close-btn-addbp">✖ Fermer</div>
          <h4>Je souhaite partager une Bonne Pratique</h4>
      </div>
      <div class="form-section" id="section1">
      <h5>1. Vous êtes ...</h5>
      <label for="nom">Nom :</label>
      <input type="text" id="nom" name="nom" size="50"><br>
      <label for="fonction">Fonction :</label>
      <input type="text" id="fonction" name="fonction" size="50"><br>
      <label for="email">Email :</label>
      <input type="email" id="email" name="email" size="50" required pattern="[^@\s]+@[^@\s]+\.[^@\s]+" title="Veuillez entrer une adresse mail valide.">
      <h5>2. Quel est le nom de votre collectivité ?</h5>
      <label for="insee">Collectivité :</label>
      <select id="insee" name="insee">
        <option value="" disabled selected> Choisir son territoire</option>
          <!-- Les options seront ajoutées dynamiquement ici -->
      </select>
      <script>
        $('#insee').selectize({
        valueField: 'INSEE', 
        labelField: 'NOM_COUV',
        searchField: ['NOM_COUV', 'INSEE'],
        maxOptions: 100,
        sortField: [
        {
            field: 'INSEE',
            direction: 'asc'
        },
        {
            field: '$score'
        }
        ],
        render: {
        option: function(item, escape) {
            return '<div>' + escape(item.NOM_COUV) + ' - (' + escape(item.INSEE) + ')</div>';
        },
        item: function(item, escape) {
            return '<div>' + escape(item.NOM_COUV) + ' - (' + escape(item.INSEE) + ')</div>';
        }
        },
        load: function(query, callback) {
        $.ajax({
            url: 'pertinence.json',
            type: 'GET',
            dataType: 'json',
            error: function() {
                callback();
            }
        });
        }
        });
            </script>
      </div>

      <div class="form-section" id="section2" style="display: none;">
      <h5>3. En quelle année cette Bonne Pratique a-t-elle été mise en place ?</h5>
      <label for="miseEnPlace">Année :</label>
      <input type="number" id="miseEnPlace" name="miseEnPlace" size="50"><br>
      <h5>4. Dans quelle thématique pourriez-vous la classer ? </h5>
      <label for="thematique">Thématique :</label>
      <select id="thematique" name="thematique">
          <option value="Attractivité du territoire">Attractivité du territoire</option>
          <option value="Jeunesse">Jeunesse</option>
          <option value="Enfance & Education">Enfance & Education</option>
          <option value="Mobilités">Mobilités</option>
          <option value="Solidarités et action sociale">Solidarités et action sociale</option>
          <option value="Sport, culture, loisirs">Sport, culture, loisirs</option>
          <option value="Logement et Habitat">Logement et Habitat</option>
          <option value="Vie de la collectivité">Vie de la collectivité</option>
          <option value="Egalité Femmes-Hommes">Egalité Femmes-Hommes</option>
          <option value="Santé et handicap">Santé et handicap</option>
          <option value="Emploi et entreprises">Emploi et entreprises</option>
          <option value="Vie locale">Vie locale</option>
          <option value="Participation citoyenne">Participation citoyenne</option>
          <option value="Environnement & Urbanisme">Environnement & Urbanisme</option>
          <option value="Finances publiques">Finances publiques</option>
      </select><br>
      </div>

      <div class="form-section" id="section3" style="display: none;">
      <h5>5. Comment décrirez vous votre Bonne Pratique en 2/3 phrases ?</h5>
      <label for="description">Description :</label>
      <textarea id="description" name="description" rows="4" cols="50"></textarea><br>
      <h5>6. A quels besoins répond votre Bonne Pratique ?</h5>
      <label for="besoins">Besoins :</label>
      <textarea id="besoins" name="besoins" rows="4" cols="50"></textarea><br>
      </div>

      <div class="form-section" id="section4" style="display: none;">
      <h5>7. Votre Bonne Pratique est-elle facilement réplicable dans d'autres territoires ? Quelles sont les points de vigilance à avoir si on souhaite la mettre en œuvre ?</h5>
      <label for="replicabilite">Replicabilité :</label>
      <textarea id="replicabilite" name="replicabilite" rows="4" cols="50"></textarea><br>
      <h5>8. Avez-vous bénéficié de ressources ou financements particuliers ? Si oui de la part de quelles acteurs/structures ? </h5>
      <label for="ressources">Ressources :</label>
      <textarea id="ressources" name="ressources" rows="4" cols="50"></textarea><br>
      <h5>9. Qui doit-on contacter si on souhaite avoir plus de précisions concernant votre Bonne Pratique ? (NOM + contact mail)</h5>
      <label for="contactNom">Nom du contact :</label>
      <input type="text" id="contactNom" name="contactNom" size="50"><br>
      <label for="contactEmail">Email du contact :</label>
      <input type="email" id="contactEmail" name="email" size="50" required pattern="[^@\s]+@[^@\s]+\.[^@\s]+" title="Veuillez entrer une adresse mail valide."><br>
      </div>

      <div class="form-section" id="section5" style="display: none;">
      <h5>10. Sur une échelle de 1 à 5 (1 représentant "Peu d'impact" et 5 "Beaucoup d'impact"), comment évalueriez-vous l'impact de cette Bonne Pratique ?</h5>
      <label>Impact (1 = Peu d'impact à 5 = Beaucoup d'impact) :</label>
      <div id="rating-container">
        <span class="rating-circle" data-value="1">1</span>
        <span class="rating-circle" data-value="2">2</span>
        <span class="rating-circle" data-value="3">3</span>
        <span class="rating-circle" data-value="4">4</span>
        <span class="rating-circle" data-value="5">5</span>
      </div>
      <input type="hidden" id="impact" name="impact" value="">

      <script>
          document.querySelectorAll('.rating-circle').forEach(function(circle) {
              circle.addEventListener('click', function() {
                  const ratingValue = this.getAttribute('data-value');
                  document.getElementById('impact').value = ratingValue;
                  document.querySelectorAll('.rating-circle').forEach(function(circle) {
                      circle.classList.remove('selected');
                  });
                  this.classList.add('selected');
              });
          });
      </script>
      <h5>11. Si vous avez d'autres infos à nous partager ...</h5>
      <label for="infosSupplementaires">Infos Supplémentaires :</label>
      <textarea id="infosSupplementaires" name="infosSupplementaires" rows="4" cols="50"></textarea><br>
      </div> 
      <div class="form-navigation">
        <button type="button" id="prevBtn" class="navigation-button" onclick="navigate(-1)">Précédent</button>
        <button type="button" id="nextBtn" class="navigation-button" onclick="navigate(1)">Suivant</button>
        <input type="submit" id="submitButton" class="navigation-button" value="Envoyer">
      </div>


      
      </form>

      <script>
        let currentSection = 1;
        const maxSections = 5;

        function showSection(section) {
          for (let i = 1; i <= maxSections; i++) {
            document.getElementById('section' + i).style.display = 'none';
          }
          document.getElementById('section' + section).style.display = 'block';
        }

        function navigate(direction) {
          if (direction === 1 && currentSection === 1) {
            var emailInput = document.getElementById('email');
            if (!emailInput.checkValidity()) {
              emailInput.reportValidity();
              return;
            }
          }

          if (direction === 1 && currentSection === 4) {
            var emailInput2 = document.getElementById('contactEmail');
            if (!emailInput2.checkValidity()) {
              emailInput2.reportValidity();
              return;
            }
          }

          currentSection += direction;
          if (currentSection > maxSections) {
            currentSection = maxSections;
          } else if (currentSection < 1) {
            currentSection = 1;
          }
          document.getElementById('formProgress').value = currentSection;
          showSection(currentSection);
          const percentage = (currentSection / maxSections) * 100;
          document.querySelector('#bpForm .progress-percentage').textContent = percentage.toFixed(0) + '%';

          if (currentSection == 1) {
            document.getElementById('prevBtn').style.display = 'none';
          } else {
            document.getElementById('prevBtn').style.display = 'inline-block';
          }

          if (currentSection == maxSections) {
            document.getElementById('nextBtn').style.display = 'none';
            document.getElementById('submitButton').style.display = 'inline-block';
          } else {
            document.getElementById('nextBtn').style.display = 'inline-block';
            document.getElementById('submitButton').style.display = 'none';
          }
        }

        // Initialize the form
        showSection(currentSection);
        document.getElementById('prevBtn').style.display = 'none'; // Hide 'Previous' on the first section

      </script>
  
    <script src="assets/js/script.js"></script>
    <script src="assets/js/script_thema.js"></script>
    <script>
      function resetFilters() {
          var selectizes = $('.selectized').selectize();
          $.each(selectizes, function(index, select) {
              var control = select.selectize;
              control.clear();
          });

          var input = document.getElementById('search-input');
          var tri = document.getElementById('sort-select');
          if (input) {
              input.value = '';
              input.dispatchEvent(new Event('input'));
              input.dispatchEvent(new Event('change'));
          }
          if (tri) {
              tri.selectedIndex = 0;
              $(tri).change();
          }

      }


    </script>
</body>
</html>
